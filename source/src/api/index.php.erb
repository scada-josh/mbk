---
title: MBK Project - API
layout: "layout-api"
---
<?php
    date_default_timezone_set("Asia/Bangkok");

    require_once '../../packages/autoload.php';

    /* Connect Database Manager Partial */
    <%= partial "/ConnectDatabase/_connectMySQL_Localhost" %>


    /* Slim framework */
    $app = new \Slim\Slim();




    /* Test Manager */
    $app->get('/testManager/getMsg/:name',function($name) use ($app) { getMsg($app, $name); });

    /* Login manager */
    $app->post('/loginManager/checkUserPassword/',function() use ($app, $pdo, $db) { checkUserPassword($app, $pdo, $db); });
    $app->post('/loginManager/logout/',function() use ($app, $pdo, $db) { logout($app, $pdo, $db); });

    /* Event manager */
    $app->post('/eventManager/listEvent/',function() use ($app, $pdo, $db) { listEvent($app, $pdo, $db); });
    $app->get('/eventManager/listUser/',function() use ($app, $pdo, $db) { listUser($app, $pdo, $db); });
    $app->post('/eventManager/addEvent/',function() use ($app, $pdo, $db) { addEvent($app, $pdo, $db); });
	

	$app->run();

    /* Test Manager Partial */
    <%= partial "/TestManager/_getMsg" %>

    /* Login Manager Partial */
    <%= partial "/LoginManager/_checkUserPassword" %>
    <%= partial "/LoginManager/_logout" %>

    /* Event Manager Partial */
    <%= partial "/EventManager/_listEvent" %>
    <%= partial "/EventManager/_listUser" %>
    <%= partial "/EventManager/_addEvent" %>
    
?>